<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Daily ShipStation Leaderboard</title>

<style>
:root{
  --header-grad: linear-gradient(90deg, #8b7355, #a0906f);
  --bg-start:#f5f5f0;
  --bg-end:#e8e4d9;
  --tan-light:#d2b48c;
  --tan-dark:#8b7355;
  --card-bg: rgba(255,255,255,0.98);
}

html,body{
  height:100%;
  margin:0;
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background:linear-gradient(135deg,var(--bg-start),var(--bg-end));
}

.wrap{max-width:95%;margin:18px auto;padding:18px;}

.header{
  display:flex;
  align-items:center;
  gap:16px;
  padding:16px;
  border-radius:10px;
  background:var(--header-grad);
  box-shadow:0 8px 24px rgba(139,115,85,0.25);
  color:white;
}

.header-center{flex:1;text-align:center}
.title{font-weight:800;letter-spacing:1.5px;font-size:44px;margin:0}
.meta{font-size:26px;margin-top:10px;font-weight:600}

.boards{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:22px;
  margin-top:22px
}

.card{
  background:var(--card-bg);
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 10px 30px rgba(139,115,85,0.15);
  display:flex;
  flex-direction:column;
  height:calc(100vh - 220px);
}

.card-head{
  padding:18px;
  text-align:center;
  background:var(--tan-light);
  font-weight:700;
}

.card-body{flex:1;overflow:hidden;background:#faf8f5}

.table-container{height:100%;display:flex;flex-direction:column}

.header-table{
  width:100%;
  border-collapse:collapse;
}

.header-table th{
  background:var(--tan-dark);
  color:white;
  padding:10px;
}

.scroll-wrapper{
  flex:1;
  overflow:hidden;
  position:relative;
  cursor:pointer;
}

.scroll-content{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  will-change:transform;
}

.body-table{
  width:100%;
  border-collapse:collapse;
}

.body-table td{
  padding:10px;
  text-align:center;
  border-bottom:1px solid rgba(210,180,140,0.15);
}

/* No scrollbar anywhere */
.scroll-wrapper::-webkit-scrollbar{display:none}
.scroll-wrapper{scrollbar-width:none}

.tv-view-btn{
  background:linear-gradient(135deg,#d2b48c,#c4a57b);
  color:white;
  border:none;
  padding:10px 16px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
}
</style>
</head>

<body>
<div class="wrap">
  <div class="header">
    <div style="width:56px"></div>
    <div class="header-center">
      <div class="title">Today's Shipping Leaderboard</div>
      <div id="weekRange" class="meta">Week: Loadingâ€¦</div>
    </div>
    <button id="tvViewBtn" class="tv-view-btn">TV View</button>
  </div>

  <div id="boards" class="boards">
    <div class="card">
      <div class="card-head">Leaderboard</div>
      <div class="card-body">
        <div class="table-container">
          <table class="header-table">
            <thead>
              <tr>
                <th>Rank</th>
                <th>Employee</th>
                <th>Products</th>
                <th>Orders</th>
                <th>Avg</th>
              </tr>
            </thead>
          </table>

          <div class="scroll-wrapper">
            <div class="scroll-content">
              <table class="body-table">
                <tbody>
                  <!-- example rows -->
                  ${Array.from({length:30}).map((_,i)=>`
                    <tr>
                      <td>${i+1}</td>
                      <td>Employee ${i+1}</td>
                      <td>${Math.floor(Math.random()*200)}</td>
                      <td>${Math.floor(Math.random()*100)}</td>
                      <td>${(Math.random()*3).toFixed(2)}</td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<script>
function startAutoScroll(wrapper){
  const content = wrapper.querySelector('.scroll-content');
  const wrapperHeight = wrapper.clientHeight;
  const contentHeight = content.scrollHeight;

  if(contentHeight <= wrapperHeight) return;

  let position = 0;
  let direction = 1;
  let isPaused = false;
  let userInteracting = false;
  let resumeTimeout = null;
  let lastTime = performance.now();

  const maxScroll = contentHeight - wrapperHeight;
  const speed = 30;
  const pauseDuration = 2000;

  function animate(time){
    if(isPaused || userInteracting){
      requestAnimationFrame(animate);
      return;
    }

    const delta = (time - lastTime) / 1000;
    lastTime = time;

    position += direction * speed * delta;

    if(position >= maxScroll){
      position = maxScroll;
      direction = -1;
      isPaused = true;
      setTimeout(()=>isPaused=false, pauseDuration);
    }
    if(position <= 0){
      position = 0;
      direction = 1;
      isPaused = true;
      setTimeout(()=>isPaused=false, pauseDuration);
    }

    content.style.transform = `translateY(-${position}px)`;
    requestAnimationFrame(animate);
  }

  wrapper.addEventListener('mouseenter', ()=>userInteracting=true);
  wrapper.addEventListener('mouseleave', ()=>{
    userInteracting=false;
    isPaused=true;
    setTimeout(()=>isPaused=false, pauseDuration);
  });

  wrapper.addEventListener('wheel', e=>{
    e.preventDefault();
    userInteracting=true;
    clearTimeout(resumeTimeout);

    position += e.deltaY;
    position = Math.max(0, Math.min(maxScroll, position));
    content.style.transform = `translateY(-${position}px)`;

    resumeTimeout = setTimeout(()=>{
      userInteracting=false;
      isPaused=true;
      setTimeout(()=>isPaused=false, pauseDuration);
    },1200);
  },{passive:false});

  requestAnimationFrame(animate);
}

document.querySelectorAll('.scroll-wrapper').forEach(startAutoScroll);

// TV View
const tvViewBtn = document.getElementById('tvViewBtn');
tvViewBtn.onclick = ()=>{
  if(!document.fullscreenElement){
    document.documentElement.requestFullscreen();
    tvViewBtn.textContent='Exit TV View';
  }else{
    document.exitFullscreen();
    tvViewBtn.textContent='TV View';
  }
};
</script>
</body>
</html>
